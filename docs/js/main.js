document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".js_header"),l=document.querySelector(".js_toggle"),a=document.querySelector(".js_menu"),d=document.querySelector(".contact-btn"),i=document.getElementById("footerContactForm"),c=document.getElementById("mockupVideo"),f=50;n&&window.addEventListener("scroll",()=>{window.scrollY>f?n.classList.add("header--scrolled"):n.classList.remove("header--scrolled")}),l&&a&&l.addEventListener("click",()=>{a.classList.toggle("is-open")}),d&&i&&d.addEventListener("click",()=>{i.classList.toggle("visible")}),c&&new IntersectionObserver(r=>{r.forEach(t=>{t.isIntersecting&&c.play().catch(e=>console.warn("No se pudo reproducir el video:",e))})},{threshold:.5}).observe(c);const m=(s,r)=>{const t=document.getElementById(s),e=document.getElementById(r);!t||!e||t.addEventListener("submit",async function(g){if(g.preventDefault(),!t.checkValidity()){e.style.display="block",e.style.color="red",e.textContent="Por favor, rellena los campos obligatorios.";return}const p=new FormData(t),v=t.getAttribute("action")||"https://formspree.io/f/mgvldkwg";try{(await fetch(v,{method:"POST",headers:{Accept:"application/json"},body:p})).ok?(e.style.display="block",e.style.color="#f8ad19",e.textContent="¡Mensaje enviado con éxito!",t.reset()):(e.style.display="block",e.style.color="red",e.textContent="Hubo un error al enviar el mensaje. Inténtalo de nuevo.")}catch{e.style.display="block",e.style.color="red",e.textContent="Hubo un error al enviar el mensaje. Inténtalo de nuevo."}})};m("contactPageForm","contactPageFormMessage"),m("footerContactForm","footerFormMessage");const o=document.getElementById("cookieConsent"),u=document.getElementById("acceptCookies"),y=document.getElementById("rejectCookies");o&&u&&y&&(localStorage.getItem("cookiesAccepted")||(o.style.display="block"),u.addEventListener("click",function(){localStorage.setItem("cookiesAccepted","true"),o.style.display="none"}),y.addEventListener("click",function(){localStorage.setItem("cookiesAccepted","false"),o.style.display="none"}))});
//# sourceMappingURL=main.js.map
